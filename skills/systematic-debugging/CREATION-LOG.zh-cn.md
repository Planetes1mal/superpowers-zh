# 创建日志：Systematic Debugging Skill

提取、结构化和加固关键 skill 的参考示例。

## 源材料

从 `/Users/jesse/.claude/CLAUDE.md` 提取的调试框架：
- 4 阶段系统化过程（调查 → 模式分析 → 假设 → 实施）
- 核心要求：始终找到根本原因，绝不修复症状
- 旨在抵抗时间压力和合理化的规则

## 提取决策

**包含什么：**
- 完整的 4 阶段框架和所有规则
- 反捷径（"绝不修复症状"，"停止并重新分析"）
- 抗压力语言（"即使更快"，"即使我看起来很匆忙"）
- 每个阶段的具体步骤

**排除什么：**
- 项目特定的上下文
- 相同规则的重复变体
- 叙述性解释（浓缩为原则）

## 遵循 skill-creation/SKILL.md 的结构

1. **丰富的 when_to_use** - 包含症状和反模式
2. **类型：技术** - 带步骤的具体过程
3. **关键词** - "root cause", "symptom", "workaround", "debugging", "investigation"
4. **流程图** - "修复失败"的决策点 → 重新分析 vs 添加更多修复
5. **按阶段分解** - 可扫描的检查清单格式
6. **反模式部分** - 什么 NOT 做（对这个 skill 至关重要）

## 加固元素

框架设计用于在压力下抵抗合理化：

### 语言选择
- "ALWAYS" / "NEVER"（不是 "should" / "try to"）
- "even if faster" / "even if I seem in a hurry"
- "STOP and re-analyze"（明确暂停）
- "Don't skip past"（捕获实际行为）

### 结构防御
- **需要第 1 阶段** - 不能跳到实施
- **单一假设规则** - 强制思考，防止散弹枪式修复
- **明确的失败模式** - "IF your first fix doesn't work" 带有强制性行动
- **反模式部分** - 准确显示捷径的样子

### 冗余
- 在概述 + when_to_use + 第 1 阶段 + 实施规则中的根本原因要求
- "NEVER fix symptom" 在不同上下文中出现 4 次
- 每个阶段都有明确的"不要跳过"指导

## 测试方法

创建了 4 个验证测试，遵循 skills/meta/testing-skills-with-subagents：

### 测试 1：学术上下文（无压力）
- 简单 bug，无时间压力
- **结果：** 完美遵守，完整调查

### 测试 2：时间压力 + 明显的快速修复
- 用户"很着急"，症状修复看起来很容易
- **结果：** 抵抗捷径，遵循完整过程，找到真正的根本原因

### 测试 3：复杂系统 + 不确定性
- 多层故障，不清楚是否能找到根本原因
- **结果：** 系统化调查，追踪所有层，找到源头

### 测试 4：第一次修复失败
- 假设不成立，诱惑添加更多修复
- **结果：** 停止，重新分析，形成新假设（无散弹枪）

**所有测试通过。** 未找到合理化。

## 迭代

### 初始版本
- 完整的 4 阶段框架
- 反模式部分
- "修复失败"决策的流程图

### 增强 1：TDD 参考
- 添加链接到 skills/testing/test-driven-development
- 说明 TDD 的 "simplest code" ≠ debugging 的 "root cause"
- 防止方法论之间的混淆

## 最终结果

加固的 skill：
- ✅ 明确要求根本原因调查
- ✅ 抵抗时间压力合理化
- ✅ 为每个阶段提供具体步骤
- ✅ 明确显示反模式
- ✅ 在多种压力场景下测试
- ✅ 澄清与 TDD 的关系
- ✅ 准备使用

## 关键洞察

**最重要的加固：** 反模式部分准确显示在那一刻感觉合理的捷径。当 Claude 想"我就添加这一个快速修复"时，看到那个确切的模式被列为错误会产生认知摩擦。

## 使用示例

遇到 bug 时：
1. 加载 skill：skills/debugging/systematic-debugging
2. 阅读概述（10 秒）- 提醒要求
3. 遵循第 1 阶段检查清单 - 强制调查
4. 如果诱惑跳过 - 看到反模式，停止
5. 完成所有阶段 - 找到根本原因

**时间投入：** 5-10 分钟
**节省时间：** 数小时的打地鼠式症状修复

---

*创建时间：2025-10-03*
*目的：skill 提取和加固的参考示例*
